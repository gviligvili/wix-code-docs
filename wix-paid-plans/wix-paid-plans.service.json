{ "name": "wix-paid-plans",
  "mixes": [],
  "labels":
    [ "new" ],
  "location":
    { "lineno": 1,
      "filename": "paid-plans.js" },
  "docs":
    { "summary": "**Deprecated.** \n The wix-paid-plans module contains functionality for working with\n pricing plans from client-side code.",
      "description":
        [ "This API has been deprecated. See the migration instructions below to migrate",
          " to the new [Pricing Plans frontend APIs](wix-pricing-plans.html) and [Pricing Plans backend APIs](wix-pricing-plans-backend.html).",
          "",
          " Using the Paid Plans API, you can build a customized membership plan experience.",
          "",
          " > **Notes:** ",
          " >",
          " > The Paid Plans API corresponds to the Pricing Plans app that you add to your site. The app uses the term \"pricing plan\" ",
          "   while some of the Paid Plans API parameters and properties are based on the term \"paidPlan.\"",
          " > ",
          " > As part of our Velo rebranding efforts, we have improved plan ordering and purchasing functionality",
          "   with our [Pricing Plans](wix-pricing-plans-backend.html) APIs. The Paid Plan APIs will continue to work, but ",
          "   we recommend you migrate to [Pricing Plans frontend APIs](wix-pricing-plans.html) and [Pricing Plans backend APIs](wix-pricing-plans-backend.html).",
          "",
          " ### Migration Instructions",
          "",
          " If Paid Plans API functions are already in your code, they will continue to work. ",
          " To stay compatible with future changes, migrate to [Pricing Plans frontend APIs](wix-pricing-plans.html) and [Pricing Plans backend APIs](wix-pricing-plans-backend.html).",
          "",
          " To migrate to the new functions:",
          "",
          " 1. For each paid plan function in your code, add the relevant import statement. ",
          "    ",
          "    For example:",
          "",
          "    ```javascript",
          "    import { orders } from 'wix-pricing-plans-backend'",
          "    ```",
          " ",
          " 2. For each paid plan function in your code, remove the original import `wixPaidPlans` statement.",
          "",
          " 3. Look for any code that uses each paid plan function, and replace the code with the corresponding new",
          "    pricing plan function. Update your code to work with the new functions' call and response properties.",
          "",
          " 4. Test your changes to make sure your code behaves as expected.",
          "",
          " * > **Note**: Deprecated Paid Plans API events return different event objects than the ones returned when Pricing Plans events are triggered. Make sure to accommodate for this in your code.",
          "",
          " ### Setup",
          "",
          " First, set up your site to:",
          "",
          " * Accept payments as described in [About Accepting Payments](https://support.wix.com/en/article/about-accepting-payments).",
          "",
          " * Offer membership plans as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans). ",
          "   When setting up your site to accept pricing plans, define the plans you want to offer either ",
          "   [with the Pricing Plans app](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans) or with the ",
          "   [Pricing Plans](wix-pricing-plans-backend.html) APIs.",
          "",
          "",
          " When plans are set up, you can use the API to:",
          " + Get information about pricing plans.",
          " + Let site visitors purchase a plan directly, as if they were using the Pricing Plans app.",
          " + Let site visitors purchase a plan using your own customized process.",
          " + Let site visitors cancel plan subscriptions (orders) that they have purchased.",
          "",
          "",
          "",
          "",
          "There are two flows for setting up pricing plans: Direct purchases and customized purchases.",
          "",
          "",
          "",
          " ### Direct Purchase of a Pricing Plan",
          "",
          " Direct purchasing is the same as when purchasing a plan with the Pricing Plans app. Everything is",
          " handled, from requesting the plan, through paying for the plan. If you need",
          " standard pricing plan processing, call the [`purchasePlan()`](wix-paid-plans.html#purchasePlan) function.",
          "",
          "",
          "",
          " The following outlines the steps in a direct-purchase lifecycle:",
          "",
          " 1. Get a list of membership plans from one of:",
          "    * A dataset connected to the Plans collection.",
          "    * A query on the Plans collection.",
          " 1. A *logged-in* site visitor selects a membership plan by clicking the plan or a button. (If the visitor is not logged-in, the",
          "    sign up page is displayed.)",
          " 1. The corresponding event handler calls a function to handle all stages of buying the plan (ordering, purchasing, and payment):",
          "    * If the plan is free, the plan is immediately ordered and is considered purchased (transaction status is \"Paid\").",
          "    * If the plan is not free, the plan is ordered but not yet purchased (transaction status is \"Pending\"). The site visitor fills in contact",
          "      details and selects a payment method (transaction status is now \"Paid\").",
          " 1. Handle additional updates when a plan is successfully purchased using the",
          "    [`onPlanPurchased()`](wix-pricing-plans-backend.Events.html#onPlanPurchased) event.",
          "",
          "",
          "",
          "",
          " ### Customized Pricing Plan Purchases",
          "",
          " Let site visitors order a plan for future purchase (such as after a visitor enters payment information).",
          " You customize the entire process of selecting, requesting, and",
          " paying for a plan. You can add elements, such as confirmation lightboxes and forms, to customize the visitor experience.",
          "",
          "",
          " To let the visitor request a plan, call the [`orderPlan()`](wix-paid-plans.html#orderPlan) function.",
          "",
          "",
          " The following outlines the steps for customizing the pricing plan purchase:",
          "",
          " 1. Get a list of membership plans from one of:",
          "    * A dataset connected to the Plans collection.",
          "    * A query on the Plans collection.",
          " 1. A *logged-in* site visitor selects a membership plan by clicking the plan or a button.  (If the visitor is not logged-in, the",
          "    sign up page is displayed.)",
          " 1. The corresponding event handler calls the [`orderPlan()`](wix-paid-plans.html#orderPlan) function to handle the initial order of the plan.",
          " 1. The site visitor uses a series of customized elements, such as lightboxes, and forms.",
          " 1. The site visitor uses the Wix Pay payment method to complete the purchase.",
          " 1. Handle additional updates when a plan is successfully purchased using the",
          "    [`onPlanPurchased()`](wix-pricing-plans-backend.Events.html#onPlanPurchased) event.",
          "",
          "",
          "",
          " For purchasing and ordering pricing plans, import `wixPaidPlans` from the `wix-paid-plans` module.",
          " For managing pricing plans, import `wixPricingPlansBackend` from the `wix-pricing-plans-backend` module.",
          "",
          "",
          "   ```javascript",
          "   import wixPaidPlans from 'wix-paid-plans';",
          "   import wixPricingPlansBackend from 'wix-pricing-plans-backend';",
          "   ```",
          "",
          "> **Note:**",
          "   To work with the Paid Plans API, you need to publish your site." ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "cancelOrder",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "The plan subscription's order ID." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the subscription is cancelled.\nRejected - Error message." },
        "locations":
          [ { "lineno": 441,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "**Deprecated.** \n This function will continue to work, but a newer version is available at [`wix-pricing-plans.orders.requestCurrentMemberOrderCancellation()`](wix-pricing-plans/orders/requestCurrentMemberOrderCancellation).",
            "description":
              [ "This function has been deprecated. Use the [`wix-pricing-plans.orders.requestCurrentMemberOrderCancellation()`](wix-pricing-plans/orders/requestCurrentMemberOrderCancellation) function instead.",
                "",
                " The `cancelOrder()` function cancels an order (subscription) of a plan, after verifying that the site member is logged in.",
                "",
                " > #### Migration Instructions",
                " >",
                " > If this function is already in your code, it will continue to work.",
                " > To stay compatible with future changes, migrate to",
                " > [`wix-pricing-plans.orders.requestCurrentMemberOrderCancellation()`](wix-pricing-plans/orders/requestCurrentMemberOrderCancellation).",
                " >",
                " > To migrate to the new function:",
                " >",
                " > 1. Add the new import statement:",
                " >",
                " >    ```javascript",
                " >    import { orders } from 'wix-pricing-plans'",
                " >    ```",
                " >",
                " > 2. If you plan to migrate all functions that use `wixPaidPlans`,",
                " >    remove the original `import wixPaidPlans` statement.",
                " >",
                " > 3. Look for any code that uses `wixPaidPlans.cancelOrder()`,",
                " >    and replace it with `orders.requestCurrentMemberOrderCancellation()`.",
                " >    Update your code to work with the new `orders.requestCurrentMemberOrderCancellation()`",
                " >    call and response properties.",
                " >",
                " > 4. Test your changes to make sure your code behaves as expected.",
                "",
                "",
                "",
                " Keep in mind that a site member can order several subscriptions of the same plan. This API does not",
                " cancel the plan and remove all corresponding subscriptions. This API removes only the one order (subscription) of the plan.",
                " ",
                " If a plan's [Allow Plan Cancellation](https://support.wix.com/en/article/pricing-plans-allowing-clients-to-cancel-plans) ",
                " setting is disabled and the currently-logged in site member tries to cancel an order for the plan using the `cancelOrder()` function,",
                " an error is thrown. ",
                "",
                "> **Note:**",
                " To work with the Paid Plans API, you need to publish your site." ],
            "links": [],
            "examples":
              [ { "title": "Cancel an order (subscription) on button click",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans ",
                      "//             orders.requestCurrentMemberOrderCancellation() ",
                      "//             function, which replaces paid plans cancelOrder().  ",
                      "//             See the function description for more information, and ",
                      "//             line 26 for the deprecated example.",
                      "",
                      "import { orders } from 'wix-pricing-plans'; ",
                      "import wixWindow from 'wix-window';        ",
                      "",
                      "const orderId = // Get the order ID of the subscription to cancel",
                      "",
                      "$w(\"#cancelMyOrderButton\").onClick((event) => {",
                      "  orders.requestCurrentMemberOrderCancellation(orderId)",
                      "  // Additional processing based on cancellation results",
                      "  .then ( () => {",
                      "    wixWindow.openLightbox(\"orderCanceled\")",
                      "  } )",
                      "  .catch( (err) => {",
                      "    wixWindow.openLightbox(\"cancelFailed\")",
                      "  } );",
                      "});",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       `cancelOrder()` function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans'; ",
                      "import wixWindow from 'wix-window';        ",
                      "",
                      "const orderId = // Get the order ID of the subscription to cancel",
                      "",
                      "// Call cancelOrder() when user clicks button",
                      "export function cancelButton_click(event) {  ",
                      "",
                      "  wixPaidPlans.cancelOrder(orderId) ",
                      "",
                      "    // Additional processing based on cancellation results",
                      "    .then ( () => {",
                      "       wixWindow.openLightbox(\"orderCanceled\")",
                      "      } )",
                      "     .catch( (err) => {",
                      "       wixWindow.openLightbox(\"cancelFailed\")",
                      "     } );",
                      "  }" ],
                  "extra":
                    {  } },
                { "title": "A full cancel order (subscription) scenario",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans ",
                      "//             orders.requestCurrentMemberOrderCancellation()",
                      "//             function, which replaces paid plans cancelOrder().  ",
                      "//             See the function description for more information, and ",
                      "//             line 56 for the deprecated example.",
                      "",
                      "import { orders } from 'wix-pricing-plans';  ",
                      "import wixData from 'wix-data';             ",
                      "import wixUsers from 'wix-users';           ",
                      "import wixWindow from 'wix-window';         ",
                      "",
                      "$w.onReady(function () {",
                      "  $w(\"#subscriptionDataset\").onReady( () => {",
                      "",
                      "     // Get the order ID for the subscription to cancel",
                      "     const subscription = $w(\"#subscriptionDataset\").getCurrentItem();   ",
                      "     const orderId = subscription.orderId; ",
                      "",
                      "     $w(\"cancelButton\").onClick( (event) => {",
                      "",
                      "       // Cancel the specific subscription of the plan ",
                      "       orders.requestCurrentMemberOrderCancellation(orderId)",
                      "        .then( () => {",
                      "",
                      "        // Let user know that cancellation succeeded",
                      "\t      wixWindow.openLightbox(\"orderCanceled\");",
                      "",
                      "        // Get details for updating status of existing subscription",
                      "        const user = wixUsers.currentUser;   ",
                      "\t      const toUpdate = {",
                      "\t\t \t    \"_id\":         subscription._id,",
                      "\t\t \t    \"planName\":    subscription.planName,",
                      "\t\t   \t  \"planId\":      subscription.planId,",
                      "\t\t   \t  \"orderId\":     subscription.orderId,",
                      "          \"memberId\":    user.id,",
                      "          \"dateCreated\": subscription.dateCreated,",
                      "          \"canceled\":    true,            // Set cancellation to true",
                      "          \"dateUpdated\": Date().toString()\t\t",
                      "          };",
                      "    ",
                      "          // Update subscription in collection to show the subscription is canceled",
                      "          wixData.update(\"Subscriptions\", toUpdate)",
                      "",
                      "\t     // Let user know if cancellation failed",
                      "  \t     .catch((err) => {",
                      "\t        wixWindow.openLightbox(\"cancelFailed\");",
                      "\t      });",
                      "\t   })",
                      "\t})",
                      "  })",
                      "})",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       `cancelOrder()` function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans';  ",
                      "import wixData from 'wix-data';             ",
                      "import wixUsers from 'wix-users';           ",
                      "import wixWindow from 'wix-window';         ",
                      "",
                      "$w.onReady(function () {",
                      "  $w(\"#subscriptionDataset\").onReady( () => {",
                      "",
                      "     // Get the order ID for the subscription to cancel",
                      "     const subscription = $w(\"#subscriptionDataset\").getCurrentItem();   ",
                      "     const orderId = subscription.orderId; ",
                      "",
                      "     $w(\"cancelButton\").onClick( (event) => {",
                      "",
                      "       // Cancel the specific subscription of the plan ",
                      "       wixPaidPlans.cancelOrder(orderId)",
                      "        .then( () => {",
                      "",
                      "        // Let user know that cancellation succeeded",
                      "\t      wixWindow.openLightbox(\"orderCanceled\");",
                      "",
                      "        // Get details for updating status of existing subscription",
                      "        const user = wixUsers.currentUser;   ",
                      "\t      const toUpdate = {",
                      "\t\t \t    \"_id\":         subscription._id,",
                      "\t\t \t    \"planName\":    subscription.planName,",
                      "\t\t   \t  \"planId\":      subscription.planId,",
                      "\t\t   \t  \"orderId\":     subscription.orderId,",
                      "          \"memberId\":    user.id,",
                      "          \"dateCreated\": subscription.dateCreated,",
                      "          \"canceled\":    true,            // Set cancellation to true",
                      "          \"dateUpdated\": Date().toString()\t\t",
                      "        };",
                      "    ",
                      "          // Update subscription in collection to show the subscription is canceled",
                      "          wixData.update(\"Subscriptions\", toUpdate)",
                      "",
                      "\t     // Let user know if cancellation failed",
                      "  \t     .catch((err) => {",
                      "\t        wixWindow.openLightbox(\"cancelFailed\");",
                      "\t      });",
                      "\t   })",
                      "\t})",
                      "  })",
                      "})" ],
                  "extra":
                    { "description": "This example demonstrates a full scenario for cancelling a pricing plan order (subscription).\n\n In the interest of simplicity the code does not deal with display considerations or validations\n that would normally be required to make sure users perform the flow as\n intended.\n\n Customized elements include:\n\n + A `Subscriptions` collection. This collection contains all plan orders (subscriptions) purchased by the site member and each subscription's status.\n + A `cancelButton` button that the site member clicks to cancel an order (subscription) of a plan.\n + A `subscriptionDataset` dataset that connects the page to the `Subscriptions` collection.\n + Two lightboxes, `orderCanceled` and `cancelFailed` that notify the site member if a subscription is cancelled." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "getCurrentMemberOrders",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "offset",
              "type": "number",
              "doc": "The number of orders to skip before retrieving orders. If not set, `offset` is `0`.",
              "optional": true },
            { "name": "limit",
              "type": "number",
              "doc": "The maximum number of orders the function returns. If not set, `limit` is `50`, which is the maximum.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ { "name": "Array",
                      "typeParams":
                        [ "wix-paid-plans.Order" ] } ] },
            "doc": "Fulfilled - An array of order objects for the currently-logged in member.\nRejected - Error message." },
        "locations":
          [ { "lineno": 511,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "**Deprecated.** \n This function will continue to work, but a newer version is available at [`wix-pricing-plans.orders.listCurrentMemberOrders()`](wix-pricing-plans/orders/listCurrentMemberOrders).",
            "description":
              [ "This function has been deprecated. Use the [`wix-pricing-plans.orders.listCurrentMemberOrders()`](wix-pricing-plans/orders/listCurrentMemberOrders) function instead.",
                "",
                " The `getCurrentMemberOrders()` function returns a Promise that resolves to an array of the orders (plan subscriptions) for the currently-logged in member.",
                "",
                "",
                " > #### Migration Instructions",
                " >",
                " > If this function is already in your code, it will continue to work.",
                " > To stay compatible with future changes, migrate to",
                " > [`wix-pricing-plans.orders.listCurrentMemberOrders()`](wix-pricing-plans/orders/listCurrentMemberOrders).",
                " >",
                " > To migrate to the new function:",
                " >",
                " > 1. Add the new import statement:",
                " >",
                " >    ```javascript",
                " >    import { orders } from 'wix-pricing-plans'",
                " >    ```",
                " >",
                " > 2. If you plan to migrate all functions that use `wixPaidPlans`,",
                " >    remove the original `import wixPaidPlans` statement.",
                " >",
                " > 3. Look for any code that uses `wixPaidPlans.getCurrentMemberOrders()`,",
                " >    and replace it with `orders.listCurrentMemberOrders()`.",
                " >    Update your code to work with the new `orders.listCurrentMemberOrders()`",
                " >    call and response properties.",
                " >",
                " > 4. Test your changes to make sure your code behaves as expected.",
                "",
                "",
                "",
                "> **Note:**",
                " To work with the Paid Plans API, you need to publish your site." ],
            "links": [],
            "examples":
              [ { "title": "Get the current member's orders (subscriptions) on button click",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans",
                      "//       orders.listCurrentMemberOrders()",
                      "//       function, which replaces getCurrentMemberOrders().  ",
                      "//       See the function description for more information, and ",
                      "//       line 92 for the deprecated example.",
                      "",
                      "import { orders } from 'wix-pricing-plans'; ",
                      "",
                      "// Call listCurrentMemberOrders() when a member",
                      "// clicks a button",
                      "",
                      "$w(\"#listMyOrdersButton\").onClick( (event) => {",
                      "  orders.listCurrentMemberOrders()",
                      "    .then( (myOrderList) => {",
                      "      console.log(myOrderList);",
                      "      $w(\"#showResultsTextbox\").text = JSON.stringify(myOrderList);",
                      "      const firstOrder = myOrderList[0];",
                      "    })",
                      "    .catch((err) => {",
                      "        console.log(err);",
                      "    });",
                      "  });",
                      "",
                      "/* In this case, a `myOrderList` array of two order items:",
                      " * [",
                      " *   {",
                      " *     \"id\": \"f0d30ec6-8804-4f0a-b444-de3e855fa6fb\",",
                      " *     \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *     \"subscriptionId\": \"6df16bbb-c90e-4a2b-b33f-969aa0d75ea6\",",
                      " *     \"buyer\": {",
                      " *       \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"identityType\": \"MEMBER\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"0\",",
                      " *       \"total\": \"0\",",
                      " *       \"planPrice\": \"0\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"singlePaymentUnlimited\": true",
                      " *     },",
                      " *     \"type\": \"ONLINE\",",
                      " *     \"status\": \"ACTIVE\",",
                      " *     \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *     \"startDate\": \"2021-10-17T11:18:58.256Z\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Family Cooking\",",
                      " *     \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *     \"createdDate\": \"2021-10-17T11:18:58.256Z\",",
                      " *     \"updatedDate\": \"2021-10-17T11:18:58.454Z\"",
                      " *   },",
                      " *   {",
                      " *     \"id\": \"023d3a89-5bcd-40f9-ba30-79162ac2eae3\",",
                      " *     \"planId\": \"38b3021a-8b43-4a31-98cc-4a05b522b7d3\",",
                      " *     \"subscriptionId\": \"7d3a43c3-c1df-477c-9353-4a827c393020\",",
                      " *     \"wixPayOrderId\": \"b025fb5a-dc18-420c-b6b6-77c65255acea\",",
                      " *     \"buyer\": {",
                      " *       \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"identityType\": \"MEMBER\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"10\",",
                      " *       \"total\": \"10\",",
                      " *       \"planPrice\": \"10\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"subscription\": {",
                      " *         \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"MONTH\"",
                      " *         },",
                      " *         \"cycleCount\": 12",
                      " *       },",
                      " *       \"freeTrialDays\": 30",
                      " *     },",
                      " *     \"type\": \"OFFLINE\",",
                      " *     \"status\": \"ACTIVE\",",
                      " *     \"autoRenewCanceled\": false,",
                      " *     \"lastPaymentStatus\": \"UNPAID\",",
                      " *     \"startDate\": \"2021-08-26T15:23:03.374Z\",",
                      " *     \"endDate\": \"2022-09-25T15:23:03.374Z\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Diabetic Cooking\",",
                      " *     \"planDescription\": \"Special recipes for those with diabetes.\",",
                      " *     \"createdDate\": \"2021-08-26T15:23:03.374Z\",",
                      " *     \"updatedDate\": \"2021-08-26T15:23:03.948Z\"",
                      " *   }",
                      " *  ]",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       `getCurrentMemberOrders()` function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans'; ",
                      "",
                      "// Call getCurrentMemberOrders() when user clicks button",
                      "export function getOrdersButton_click(event) {  ",
                      "",
                      "  wixPaidPlans.getCurrentMemberOrders() ",
                      "",
                      "    // Display orders in a table",
                      "    .then ( orders => {",
                      "       $w(\"#orderTable\").rows = orders;",
                      "      } )",
                      "     .catch( (err) => {",
                      "       console.log(err);",
                      "     } );",
                      "  } ",
                      "",
                      "/* In this case, an orders array of two order items:",
                      " * [",
                      " *   {",
                      " *     \"id\":\"d3e95-a4a1-1d33-fea1-6ec0\",",
                      " *     \"planId\":\"8050a0-b2c1-4d69-abc2-ac9ab3\",",
                      " *     \"memberId\":\"4333a-d1c3-13a3-d11a-0374ba\",",
                      " *     \"roleId\":\"8050a-d858-29a1-444a-c9ab31\",",
                      " *     \"orderType\":\"ONLINE\",",
                      " *     \"status\":\"ACTIVE\",",
                      " *     \"wixPayOrderId\":\"88265-1ea3-29f1-13a1-e159\",",
                      " *     \"paymentStatus\":\"PAID\",",
                      " *     \"price\":{",
                      " *       \"amount\":32,",
                      " *       \"currency\":\"USD\"",
                      " *     },",
                      " *     \"planName\":\"Premium\",",
                      " *     \"planDescription\":\"Our most exclusive plan.\",",
                      " *     \"recurring\":true,",
                      " *     \"validFor\": {",
                      " *       \"forever\":false,",
                      " *       \"period\": {",
                      " *         \"amount\":6,",
                      " *         \"unit\":\"MONTH\"",
                      " *        }",
                      " *     },",
                      " *     \"validFrom\":\"2020-02-17T12:00:58.735Z\",",
                      " *     \"validUntil\":\"2020-08-17T12:00:58.735Z\",",
                      " *     \"dateCreated\":\"2020-02-17T12:00:58.735Z\",",
                      " *     \"cancellationInitiator\":\"UNDEFINED\"",
                      " *   },",
                      " *   {",
                      " *     \"id\":\"7861d30c-1ea3-29f1-13a1-ad05de8\",",
                      " *     \"planId\":\"8050a0-b2c1-4d69-abc2-ac9ab3\",",
                      " *     \"memberId\":\"4333a-a3c1-13a3-d11a-0374ba\",",
                      " *     \"roleId\":\"8050a-1a43-321a-40c2-47ac9ab3\",",
                      " *     \"orderType\":\"ONLINE\",",
                      " *     \"status\":\"ACTIVE\",",
                      " *     \"wixPayOrderId\":\"9215ac1-1a43-428f-21c3-733c4668\",",
                      " *     \"paymentStatus\":\"PAID\",",
                      " *     \"price\":{",
                      " *       \"amount\":32,",
                      " *       \"currency\":\"USD\"",
                      " *     },",
                      " *     \"planName\":\"Basic\",",
                      " *     \"planDescription\":\"Our most basic plan\",",
                      " *     \"recurring\":true,",
                      " *     \"validFor\": {",
                      " *       \"forever\":false,",
                      " *        \"period\": {",
                      " *           \"amount\":6,",
                      " *           \"unit\":\"MONTH\"",
                      " *       }",
                      " *     },",
                      " *     \"validFrom\":\"2020-02-17T12:00:36.875Z\",",
                      " *     \"validUntil\":\"2020-08-17T12:00:36.875Z\",",
                      " *     \"dateCreated\":\"2020-02-17T12:00:36.875Z\",",
                      " *     \"cancellationInitiator\":\"UNDEFINED\"",
                      " *   }",
                      " * ]",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "orderPlan",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "planId",
              "type": "string",
              "doc": "The plan ID." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-paid-plans.OrderResult" ] },
            "doc": "Fulfilled - The created order.\nRejected - Error message." },
        "locations":
          [ { "lineno": 331,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "**Deprecated**. \n This function will continue to work, but newer versions are available \n at [wix-pricing-plans.checkout.createOnlineOrder()](https://www.wix.com/velo/reference/wix-pricing-plans/checkout/createonlineorder)\n and \n at [wix-pricing-plans-backend.checkout.createOfflineOrder()](https://www.wix.com/velo/reference/wix-pricing-plans-backend/checkout/createofflineorder).",
            "description":
              [ "This function has been deprecated. Use the [wix-pricing-plans.checkout.createOnlineOrder()](https://www.wix.com/velo/reference/wix-pricing-plans/checkout/createonlineorder)",
                " and [wix-pricing-plans-backend.checkout.createOfflineOrder()](https://www.wix.com/velo/reference/wix-pricing-plans-backend/checkout/createofflineorder) functions instead.",
                "",
                " Orders a pricing plan. ",
                " ",
                " The `orderPlan()` function returns a Promise that resolves to an `OrderResult`",
                " object when the visitor completes the order process. Use this result only for display purposes.",
                "",
                "",
                " > #### Migration Instructions",
                " >",
                " > If this function is already in your code, it will continue to work.",
                " > To stay compatible with future changes, migrate to",
                " > [`wix-pricing-plans.checkout.createOnlineOrder()`](wix-pricing-plans/checkout/createOnlineOrder)",
                " > or [`wix-pricing-plans-backend.checkout.createOfflineOrder()`](wix-pricing-plans-backend/checkout/createOfflineOrder).",
                " >",
                " > To migrate to the new `createOnlineOrder()` or `createOfflineOrder()` function:",
                " >",
                " > 1. Add the new import statement:",
                " >    ",
                " >    ```javascript",
                " >    import { checkout } from 'wix-pricing-plans'",
                " >    ```",
                " >    or ",
                " >    ```javascript",
                " >    import { checkout } from 'wix-pricing-plans-backend'",
                " >    ```",
                " >    (The `createOfflineOrder()` function is only available in the backend.)",
                " >    ",
                " > 2. If you plan to migrate all functions that use `wixPaidPlans`,",
                " >    remove the original `import wixPaidPlans` statement.",
                " >    ",
                " > 3. Look for any code that uses `wixPaidPlans.orderPlan()`,",
                " >    and replace it with either `checkout.createOnlineOrder()` ",
                " >    or `checkout.createOfflineOrder()`.",
                " >    Update your code to work with the new function's",
                " >    call and response properties.",
                " >    ",
                " > 4. Test your changes to make sure your code behaves as expected.",
                "",
                " #### Setup ",
                "",
                " To process pricing plans on your site, first set up your site to offer pricing plans",
                " as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans).",
                " When setting up your site to accept pricing plans, [define the plans you want to offer](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans).",
                "",
                " #### About Ordering Plans ",
                "",
                " Ordering a plan places an order for the plan, without actually purchasing it. You can then continue the",
                " payment process with the Wix Pay payment method, which applies the plan to the visitor on completion of payment.",
                "",
                " To understand how `orderPlan()` is used in a customized pricing plan lifecycle,",
                " see [Customized Pricing Plan Purchases](wix-paid-plans/introduction#customized-pricing-plan-purchases).",
                "",
                "> **Note:**",
                " To work with the Paid Plans API, you need to publish your site." ],
            "links": [],
            "examples":
              [ { "title": "Order a pricing plan",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans checkout.createOnlineOrder() ",
                      "//             function, which replaces paid plans orderPlan().  ",
                      "//             See the function description for more information, and ",
                      "//             line 62 for the deprecated example.",
                      "",
                      "import wixPricingPlans from 'wix-pricing-plans';",
                      "",
                      "let planId = // Get the plan ID",
                      "",
                      "$w(\"#myOrderButton\").onClick( (event) => {",
                      "  wixPricingPlans.checkout.createOnlineOrder(planId)",
                      "    .then( (myOrder) => {",
                      "        const myOrderId = myOrder._id;",
                      "        const myWixPayOrderId = myOrder.wixPayOrderId;",
                      "    })",
                      "    .catch((err) => {",
                      "      console.log(\"Uh oh. No Order created.\");",
                      "      console.log(err);",
                      "    });",
                      "  })",
                      "",
                      "/* myOrder:",
                      " *  * {",
                      " *   \"id\": \"3aa1bec9-4dfa-4e08-891f-edcb53bc3790\",",
                      " *   \"planId\": \"38b3021a-8b43-4a31-98cc-4a05b522b7d3\",",
                      " *   \"subscriptionId\": \"1853e1b3-ec41-4385-8e1e-69242ff3a5dd\",",
                      " *   \"wixPayOrderId\": \"e33d7c8e-fb40-4a0d-a3f5-45c86e514593\",",
                      " *   \"buyer\": {",
                      " *     \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *     \"identityType\": \"MEMBER\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"10\",",
                      " *     \"total\": \"10\",",
                      " *     \"planPrice\": \"10\",",
                      " *     \"currency\": \"USD\",",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *         \"count\": 1,",
                      " *         \"unit\": \"MONTH\"",
                      " *       },",
                      " *       \"cycleCount\": 12",
                      " *     }",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"status\": \"DRAFT\",",
                      " *   \"autoRenewCanceled\": false,",
                      " *   \"lastPaymentStatus\": \"UNPAID\",",
                      " *   \"startDate\": \"2021-10-17T08:08:37.514Z\",",
                      " *   \"endDate\": \"2022-10-17T08:08:37.514Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"planName\": \"Diabetic Cooking\",",
                      " *   \"planDescription\": \"Special recipes for those with diabetes.\",",
                      " *   \"createdDate\": \"2021-10-17T08:08:37.514Z\",",
                      " *   \"updatedDate\": \"2021-10-17T08:08:37.514Z\"",
                      " * }",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       paid plans orderPlan() function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "let planId = // Get the plan ID",
                      "",
                      "export function myOrderButton_click(event) {",
                      "  wixPaidPlans.orderPlan(planId)",
                      "    .then( (myOrder) => {",
                      "        let myOrderId = myOrder.orderId;",
                      "        let myWixPayOrderId = myOrder.wixPayOrderId;",
                      "    } );",
                      "  }",
                      "",
                      "/* myOrder:",
                      " * {",
                      " *  \"orderId\": \\\"b3fb3a4d-c223-4040-8bc3-8dfdefb1bafc\\\",",
                      " *  \"wixPayOrderId\": \\\"06af8fd6-6c82-4b51-bc08-0b556aad6f4f\\\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "A full order plan scenario",
                  "body":
                    [ "// NOTE: This example uses the new pricing plan checkout.createOnlineOrder() ",
                      "//             function, which replaces the paid plans orderPlan() function.  ",
                      "//             See the function description for more information, and ",
                      "//             line 75 for the deprecated example.",
                      "",
                      "/****************************************",
                      "* Code on a plan viewer dynamic page",
                      "*****************************************/",
                      "// For navigating to a dynamic page:",
                      "import wixLocation from 'wix-location';",
                      "",
                      "$w.onReady( function () {",
                      "  $w(\"#viewButton\").onClick( (event) => {",
                      "    let $item = $w.at(event.context);",
                      "    let clickedItem = $item(\"#planDataset\").getCurrentItem();",
                      "    let slug = clickedItem.slug;",
                      "    wixLocation.to('/plans/' + slug);",
                      "  } );",
                      "} );",
                      "",
                      "/****************************************",
                      "* Lightbox code",
                      "*****************************************/",
                      "import wixWindow from 'wix-window';",
                      "",
                      "$w.onReady(function () {",
                      "  const receivedData = wixWindow.lightbox.getContext();",
                      "\t$w(\"#orderData\").text = JSON.stringify(receivedData);",
                      "});",
                      "",
                      "// This code assumes that the closeButton_click",
                      "// event handler was added using the \"Properties",
                      "// & Events\" panel. Make sure to do the same if you ",
                      "// copy this code.",
                      "// ",
                      "// Note that the \"Close\" button was created ",
                      "// using standard elements. It was not added ",
                      "// using Lightbox Settings.",
                      "",
                      "export function closeButton_click(event) {",
                      "    wixWindow.lightbox.close();",
                      "}",
                      "",
                      "/****************************************",
                      "* Code on a single-plan dynamic page",
                      "*****************************************/",
                      "import wixWindow from 'wix-window';",
                      "import paidPlans from 'wix-paid-plans';",
                      "",
                      "$w.onReady(function () {",
                      "  $w(\"#dynamicDataset\").onReady( () => {",
                      "    const currentPlanObject = $w(\"#dynamicDataset\").getCurrentItem();",
                      "    $w(\"#planName\").text = currentPlanObject.name;",
                      "    $w(\"#planDescription\").text = currentPlanObject.description;",
                      "    const planId = currentPlanObject._id;",
                      "    $w(\"orderPlanButton\").onClick( (event) => {",
                      "      const order = paidPlans.orderPlan(planId)",
                      "      .then( (ord) => {",
                      "        const planWithOrder = {",
                      "          plan: currentPlanObject,",
                      "          order: ord",
                      "        };",
                      "        wixWindow.openLightbox(\"orderCreated\", planWithOrder)",
                      "        .then( (data) => {",
                      "          const receivedData = data;",
                      "        });",
                      "      });",
                      "    });",
                      "  });",
                      "});",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//             orderPlan() function.",
                      "",
                      "/****************************************",
                      "* Code on a plan viewer page",
                      "*****************************************/",
                      "// For navigating to a dynamic page:",
                      "import wixLocation from 'wix-location';",
                      "// If the site visitor clicks a plan's button,",
                      "// the browser relocates to that plan's dynamic page,",
                      "// with more details.",
                      "",
                      "$w.onReady(function () {",
                      "   $w(\"#viewButton\").onClick( (event) => {",
                      "      let slug = $w(\"#planDataset\").getCurrentItem().slug;",
                      "",
                      "      // We customized the URL to the plan's dynamic",
                      "      // page when we created it. ",
                      "      wixLocation.to('/plans/'+ slug)",
                      "  })",
                      "});",
                      "",
                      "/****************************************",
                      "* Code on a plan ordering dynamic page",
                      "*****************************************/",
                      "// For a lightbox:",
                      "import wixWindow from 'wix-window';",
                      "// For Wix Pay, but any payment method is OK:",
                      "import wixPay from 'wix-pay';",
                      "// For pricing plans",
                      "import paidPlans from 'wix-paid-plans';",
                      "",
                      "",
                      "$w.onReady(function () {",
                      "",
                      "   // When the collection is accessible...",
                      "   $w(\"#dynamicDataset\").onReady( () => {",
                      "",
                      "   // Assign the currently-selected plan to currentPlanObject",
                      "   const currentPlanObject = $w(\"#dynamicDataset\").getCurrentItem();",
                      "",
                      "   // Display details about the current plan",
                      "   $w(\"#planName\").text = currentPlanObject.name;",
                      "   $w(\"#planDescription\").text = currentPlanObject.description;",
                      "",
                      "   // Assign the currently-selected plan's ID to planId. This",
                      "   // unique identifier will be used for ordering the plan.",
                      "   const planId = currentPlanObject._id;",
                      "",
                      "",
                      "   // Order the plan by button click",
                      "   $w(\"orderPlanButton\").onClick( (event) => {",
                      "",
                      "   // Provide the plan's ID to the",
                      "   // orderPlan() function. The function returns",
                      "   // an object containing the plan's properties.",
                      "   const order = paidPlans.orderPlan(planId).then(newOrder => {",
                      "",
                      "   const planWithOrder = {",
                      "     plan: currentPlanObject,",
                      "     order: newOrder",
                      "   };",
                      "",
                      "   // Use a customized lightbox to continue processing the order.",
                      "   wixWindow.openLightbox(\"orderCreated\", planWithOrder)",
                      "     .then( (data) => {",
                      "       const receivedData = data;",
                      "   });",
                      "",
                      "   });",
                      "  });",
                      " });",
                      "});" ],
                  "extra":
                    { "description": "This example demonstrates a customized pricing plans scenario. The customized elements include:\n\n\n * An intermediary page that displays all plans before ordering\n * A lightbox\n\n\n In the interest of simplicity the code does not deal with display considerations or validations\n that would normally be required to make sure users perform the flow as\n intended.\n\n The code assumes 2 pages:\n\n * The plan viewer page lists the plans and lets the visitor pick one.\n\n * A dynamic page shows one plan's details and lets the visitor order the plan.\n\n\n The plan viewer page has the following elements:\n\n + `planDataset`: Connects the page to the Plans collection.\n + `planRepeater`: Displays fields for each plan.\n + `viewButton`: Displays the ordering page for the selected plan.\n\n\n\nThe dynamic page has the following elements:\n\n + `dynamicDataset`: Connects the page to the Plans collection.\n + `planName`: Text element that displays the plan's name.\n + `planDescription`: Text element that displays the plan's tagline.\n + `orderPlanButton`: Performs a request to order the plan.\n + `orderCreated`: A customized lightbox. The lightbox could, for example,\n    display plan details and ask for additional confirmation." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "purchasePlan",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "planId",
              "type": "string",
              "doc": "The plan ID." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-paid-plans.PurchaseResult" ] },
            "doc": "Fulfilled - The created purchase." },
        "locations":
          [ { "lineno": 264,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "**Deprecated.** \n This function will continue to work, but a newer version is available \n at [`wix-pricing-plans.startOnlinePurchase()`](https://www.wix.com/velo/reference/wix-pricing-plans/checkout/startOnlinePurchase).",
            "description":
              [ "This function has been deprecated. Use the [`wix-pricing-plans.startOnlinePurchase()`](https://www.wix.com/velo/reference/wix-pricing-plans/checkout/startOnlinePurchase) function instead.",
                "",
                " Orders and purchases a pricing plan. ",
                "",
                " The `purchasePlan()` function returns a Promise that resolves to either a `PurchaseResult`",
                " object when the visitor completes the purchase process for a non-free plan, or a `PurchaseResultFree`",
                " object when the visitor completes the purchase process for a free plan. Use this result only for display purposes.",
                "",
                " > #### Migration Instructions",
                " >",
                " > If this function is already in your code, it will continue to work.",
                " > To stay compatible with future changes, migrate to",
                " > [`wix-pricing-plans.checkout.startOnlinePurchase()`](wix-pricing-plans/checkout/startOnlinePurchase).",
                " >",
                " > To migrate to the new function:",
                " >",
                " > 1. Add the new import statement:",
                " >",
                " >    ```javascript",
                " >    import { checkout } from 'wix-pricing-plans'",
                " >    ```",
                " >",
                " > 2. If you plan to migrate all functions that use `wixPaidPlans`,",
                " >    remove the original `import wixPaidPlans` statement.",
                " >",
                " > 3. Look for any code that uses `wixPaidPlans.purchasePlan()`,",
                " >    and replace it with `checkout.startOnlinePurchase()`.",
                " >    Update your code to work with the new `checkout.startOnlinePurchase()`",
                " >    call and response properties.",
                " >",
                " > 4. Test your changes to make sure your code behaves as expected.",
                "",
                "",
                " #### Setup ",
                "",
                " To process pricing plans on your site, first set up your site to offer pricing plans",
                " as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans).",
                " When setting up your site to accept pricing plans, [ define the plans you want to offer](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans),",
                " including the payment method.",
                "",
                " #### About Purchasing Plans ",
                "",
                " Purchasing a plan orders the plan, and continues the",
                " payment process with the Wix Pay API. After payment is complete, the plan",
                " is assigned to the visitor.",
                "",
                " To understand the lifecycle of how `purchasePlan()` is used,",
                " see [Direct Purchase of a Pricing Plan](wix-paid-plans/introduction#direct-purchase-of-a-pricing-plan).",
                "",
                "> **Note:**",
                " To work with the Paid Plans API, you need to publish your site." ],
            "links": [],
            "examples":
              [ { "title": "Purchase a non-free plan on button click",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans checkout.startOnlinePurchase() ",
                      "//             function, which replaces the paid plans purchasePlan() function.  ",
                      "//             See the function description for more information, and ",
                      "//             line 63 for the deprecated example.",
                      "",
                      "import wixPricingPlans from 'wix-pricing-plans';",
                      "",
                      "let planId = // Get the ID for a non-free plan",
                      "",
                      "$w(\"#buyPlanButton\").onClick((event) => {",
                      "  wixPricingPlans.checkout.startOnlinePurchase(planId)",
                      "      .then((purchase) => {",
                      "          const myOrderId = purchase.order._id;",
                      "          const myWixPayOrderId = purchase.order.wixPayOrderId;",
                      "          const myWixPayStatus = purchase.wixPayStatus;",
                      "      });",
                      "});",
                      "",
                      "/* myPurchase object after payment processed",
                      " * {",
                      " *  \"order\": {",
                      " *    \"_id\": \"cab339d2-b021-40ac-ab0f-2b44c3f6dc60\",",
                      " *    \"planId\": \"fc7bca6b-c220-4679-9913-b93f2527bf3a\",",
                      " *    \"subscriptionId\": \"eef0fd26-b6cf-4116-ae56-b59e98dd0cce\",",
                      " *    \"wixPayOrderId\": \"d4008c3e-a8ee-472e-8917-b67ad3276183\",",
                      " *    \"buyer\": {",
                      " *      \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *      \"identityType\": \"MEMBER\"",
                      " *    },",
                      " *    \"priceDetails\": {",
                      " *      \"subtotal\": \"0.1\",",
                      " *      \"total\": \"0.1\",",
                      " *      \"planPrice\": \"0.1\",",
                      " *      \"currency\": \"USD\",",
                      " *      \"subscription\": {",
                      " *        \"cycleDuration\": {",
                      " *          \"count\": 1,",
                      " *          \"unit\": \"MONTH\"",
                      " *        },",
                      " *        \"cycleCount\": 12",
                      " *      },",
                      " *      \"freeTrialDays\": 50",
                      " *    },",
                      " *    \"type\": \"ONLINE\",",
                      " *    \"status\": \"ACTIVE\",",
                      " *    \"autoRenewCanceled\": false,",
                      " *    \"lastPaymentStatus\": \"PAID\",",
                      " *    \"startDate\": \"2021-10-26T10:09:30.287Z\",",
                      " *    \"endDate\": \"2022-12-15T10:09:30.287Z\",",
                      " *    \"pausePeriods\": [],",
                      " *    \"planName\": \"Mexican Cooking\",",
                      " *    \"planDescription\": \"Mild and spicy recipes!\",",
                      " *    \"createdDate\": \"2021-10-26T10:09:30.287Z\",",
                      " *    \"updatedDate\": \"2021-10-26T10:09:30.287Z\"",
                      " *  },",
                      " *  \"wixPayStatus\": \"Successful\"",
                      " * }",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       paid plans purchasePlan() function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "import wixPay from 'wix-pay';",
                      "",
                      "let planId = // Get the plan ID for a non-free plan",
                      "",
                      "export function myPurchaseButton_click(event) {",
                      "  wixPaidPlans.purchasePlan(planId)",
                      "    .then( (myPurchase) => {",
                      "        let myOrderId = myPurchase.orderId;",
                      "        let myWixPayOrderId = myPurchase.wixPayOrderId;",
                      "        let myWixPayStatus = myPurchase.wixPayStatus;",
                      "    } );",
                      "  }",
                      "",
                      "/* myPurchase:",
                      " * {",
                      " *  \"orderId\": \\\"b3fb3a4d-c223-4040-8bc3-8dfdefb1bafc\\\",",
                      " *  \"wixPayOrderId\": \\\"06af8fd6-6c82-4b51-bc08-0b556aad6f4f\\\",",
                      " *  \"wixPayStatus\": \\\"Successful\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Purchase a free plan on button click",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans checkout.startOnlinePurchase() ",
                      "//             function, which replaces the paid plans purchasePlan() function.  ",
                      "//             See the function description for more information, and ",
                      "//             line 52 for the deprecated example.",
                      "",
                      "import wixPricingPlans from 'wix-pricing-plans';",
                      "",
                      "let planId = // Get the ID for a free plan",
                      "let planStartDate = new Date(\"2022, 01, 14\");",
                      "",
                      "$w(\"#buyPlanButton\").onClick((event) => {",
                      "  wixPricingPlans.checkout.startOnlinePurchase(planId, planStartDate)",
                      "      .then((purchase) => {",
                      "          const myOrderId = purchase.order._id; ",
                      "      });",
                      "});",
                      "",
                      "/* myPurchase object returns immediately,",
                      " * and without wixPay properties,",
                      " * because no payment necessary.",
                      " * ",
                      " * {",
                      " *  \"_id\": \"545221b3-eb21-4a2a-a2e6-c4276afe3fbf\",",
                      " *  \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *  \"subscriptionId\": \"66c29482-ccf2-4069-b02a-fa3ca5f95502\",",
                      " *  \"buyer\": {",
                      " *    \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *    \"identityType\": \"MEMBER\"",
                      " *  },",
                      " *  \"priceDetails\": {",
                      " *    \"subtotal\": \"0\",",
                      " *    \"total\": \"0\",",
                      " *    \"planPrice\": \"0\",",
                      " *    \"currency\": \"USD\",",
                      " *    \"singlePaymentUnlimited\": true",
                      " *  },",
                      " *  \"type\": \"ONLINE\",",
                      " *  \"status\": \"ACTIVE\",",
                      " *  \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *  \"startDate\": \"2022-01-14T22:00:00.000Z\",",
                      " *  \"pausePeriods\": [],",
                      " *  \"planName\": \"Family Cooking\",",
                      " *  \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *  \"createdDate\": \"2021-10-26T10:29:12.199Z\",",
                      " *  \"updatedDate\": \"2021-10-26T10:29:12.199Z\"",
                      " * }",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       paid plans purchasePlan() function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "import wixPay from 'wix-pay';",
                      "",
                      "let planId = // Get the plan ID for a free plan",
                      "",
                      "export function myPurchaseButton_click(event) {",
                      "  wixPaidPlans.purchasePlan(planId)",
                      "    .then( (myPurchase) => {",
                      "        let myOrderId = myPurchase.orderId;",
                      "    } );",
                      "  }",
                      "",
                      "",
                      "/* myPurchase:",
                      " * {",
                      " *  \"_id\": \"545221b3-eb21-4a2a-a2e6-c4276afe3fbf\",",
                      " *  \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *  \"subscriptionId\": \"66c29482-ccf2-4069-b02a-fa3ca5f95502\",",
                      " *  \"buyer\": {",
                      " *    \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *    \"identityType\": \"MEMBER\"",
                      " *  },",
                      " *  \"priceDetails\": {",
                      " *    \"subtotal\": \"0\",",
                      " *    \"total\": \"0\",",
                      " *    \"planPrice\": \"0\",",
                      " *    \"currency\": \"USD\",",
                      " *    \"singlePaymentUnlimited\": true",
                      " *  },",
                      " *  \"type\": \"ONLINE\",",
                      " *  \"status\": \"ACTIVE\",",
                      " *  \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *  \"startDate\": \"2022-01-14T22:00:00.000Z\",",
                      " *  \"pausePeriods\": [],",
                      " *  \"planName\": \"Family Cooking\",",
                      " *  \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *  \"createdDate\": \"2021-10-26T10:29:12.199Z\",",
                      " *  \"updatedDate\": \"2021-10-26T10:29:12.199Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "Order",
        "locations":
          [ { "lineno": 176,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "An object representing a pricing plan order (subscription).",
            "links":
              [ "[getCurrentMemberOrders( )](#getCurrentMemberOrders)" ],
            "examples":
              [ { "title": "Get the current member's orders (subscriptions) on button click",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans",
                      "//       orders.listCurrentMemberOrders()",
                      "//       function, which replaces getCurrentMemberOrders().  ",
                      "//       See the function description for more information, and ",
                      "//       line 92 for the deprecated example.",
                      "",
                      "import { orders } from 'wix-pricing-plans'; ",
                      "",
                      "// Call listCurrentMemberOrders() when a member",
                      "// clicks a button",
                      "",
                      "$w(\"#listMyOrdersButton\").onClick( (event) => {",
                      "  orders.listCurrentMemberOrders()",
                      "    .then( (myOrderList) => {",
                      "      console.log(myOrderList);",
                      "      $w(\"#showResultsTextbox\").text = JSON.stringify(myOrderList);",
                      "      const firstOrder = myOrderList[0];",
                      "    })",
                      "    .catch((err) => {",
                      "        console.log(err);",
                      "    });",
                      "  });",
                      "",
                      "/* In this case, a `myOrderList` array of two order items:",
                      " * [",
                      " *   {",
                      " *     \"id\": \"f0d30ec6-8804-4f0a-b444-de3e855fa6fb\",",
                      " *     \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *     \"subscriptionId\": \"6df16bbb-c90e-4a2b-b33f-969aa0d75ea6\",",
                      " *     \"buyer\": {",
                      " *       \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"identityType\": \"MEMBER\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"0\",",
                      " *       \"total\": \"0\",",
                      " *       \"planPrice\": \"0\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"singlePaymentUnlimited\": true",
                      " *     },",
                      " *     \"type\": \"ONLINE\",",
                      " *     \"status\": \"ACTIVE\",",
                      " *     \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *     \"startDate\": \"2021-10-17T11:18:58.256Z\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Family Cooking\",",
                      " *     \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *     \"createdDate\": \"2021-10-17T11:18:58.256Z\",",
                      " *     \"updatedDate\": \"2021-10-17T11:18:58.454Z\"",
                      " *   },",
                      " *   {",
                      " *     \"id\": \"023d3a89-5bcd-40f9-ba30-79162ac2eae3\",",
                      " *     \"planId\": \"38b3021a-8b43-4a31-98cc-4a05b522b7d3\",",
                      " *     \"subscriptionId\": \"7d3a43c3-c1df-477c-9353-4a827c393020\",",
                      " *     \"wixPayOrderId\": \"b025fb5a-dc18-420c-b6b6-77c65255acea\",",
                      " *     \"buyer\": {",
                      " *       \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"identityType\": \"MEMBER\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"10\",",
                      " *       \"total\": \"10\",",
                      " *       \"planPrice\": \"10\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"subscription\": {",
                      " *         \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"MONTH\"",
                      " *         },",
                      " *         \"cycleCount\": 12",
                      " *       },",
                      " *       \"freeTrialDays\": 30",
                      " *     },",
                      " *     \"type\": \"OFFLINE\",",
                      " *     \"status\": \"ACTIVE\",",
                      " *     \"autoRenewCanceled\": false,",
                      " *     \"lastPaymentStatus\": \"UNPAID\",",
                      " *     \"startDate\": \"2021-08-26T15:23:03.374Z\",",
                      " *     \"endDate\": \"2022-09-25T15:23:03.374Z\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Diabetic Cooking\",",
                      " *     \"planDescription\": \"Special recipes for those with diabetes.\",",
                      " *     \"createdDate\": \"2021-08-26T15:23:03.374Z\",",
                      " *     \"updatedDate\": \"2021-08-26T15:23:03.948Z\"",
                      " *   }",
                      " *  ]",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       `getCurrentMemberOrders()` function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans'; ",
                      "",
                      "// Call getCurrentMemberOrders() when user clicks button",
                      "export function getOrdersButton_click(event) {  ",
                      "",
                      "  wixPaidPlans.getCurrentMemberOrders() ",
                      "",
                      "    // Display orders in a table",
                      "    .then ( orders => {",
                      "       $w(\"#orderTable\").rows = orders;",
                      "      } )",
                      "     .catch( (err) => {",
                      "       console.log(err);",
                      "     } );",
                      "  } ",
                      "",
                      "/* In this case, an orders array of two order items:",
                      " * [",
                      " *   {",
                      " *     \"id\":\"d3e95-a4a1-1d33-fea1-6ec0\",",
                      " *     \"planId\":\"8050a0-b2c1-4d69-abc2-ac9ab3\",",
                      " *     \"memberId\":\"4333a-d1c3-13a3-d11a-0374ba\",",
                      " *     \"roleId\":\"8050a-d858-29a1-444a-c9ab31\",",
                      " *     \"orderType\":\"ONLINE\",",
                      " *     \"status\":\"ACTIVE\",",
                      " *     \"wixPayOrderId\":\"88265-1ea3-29f1-13a1-e159\",",
                      " *     \"paymentStatus\":\"PAID\",",
                      " *     \"price\":{",
                      " *       \"amount\":32,",
                      " *       \"currency\":\"USD\"",
                      " *     },",
                      " *     \"planName\":\"Premium\",",
                      " *     \"planDescription\":\"Our most exclusive plan.\",",
                      " *     \"recurring\":true,",
                      " *     \"validFor\": {",
                      " *       \"forever\":false,",
                      " *       \"period\": {",
                      " *         \"amount\":6,",
                      " *         \"unit\":\"MONTH\"",
                      " *        }",
                      " *     },",
                      " *     \"validFrom\":\"2020-02-17T12:00:58.735Z\",",
                      " *     \"validUntil\":\"2020-08-17T12:00:58.735Z\",",
                      " *     \"dateCreated\":\"2020-02-17T12:00:58.735Z\",",
                      " *     \"cancellationInitiator\":\"UNDEFINED\"",
                      " *   },",
                      " *   {",
                      " *     \"id\":\"7861d30c-1ea3-29f1-13a1-ad05de8\",",
                      " *     \"planId\":\"8050a0-b2c1-4d69-abc2-ac9ab3\",",
                      " *     \"memberId\":\"4333a-a3c1-13a3-d11a-0374ba\",",
                      " *     \"roleId\":\"8050a-1a43-321a-40c2-47ac9ab3\",",
                      " *     \"orderType\":\"ONLINE\",",
                      " *     \"status\":\"ACTIVE\",",
                      " *     \"wixPayOrderId\":\"9215ac1-1a43-428f-21c3-733c4668\",",
                      " *     \"paymentStatus\":\"PAID\",",
                      " *     \"price\":{",
                      " *       \"amount\":32,",
                      " *       \"currency\":\"USD\"",
                      " *     },",
                      " *     \"planName\":\"Basic\",",
                      " *     \"planDescription\":\"Our most basic plan\",",
                      " *     \"recurring\":true,",
                      " *     \"validFor\": {",
                      " *       \"forever\":false,",
                      " *        \"period\": {",
                      " *           \"amount\":6,",
                      " *           \"unit\":\"MONTH\"",
                      " *       }",
                      " *     },",
                      " *     \"validFrom\":\"2020-02-17T12:00:36.875Z\",",
                      " *     \"validUntil\":\"2020-08-17T12:00:36.875Z\",",
                      " *     \"dateCreated\":\"2020-02-17T12:00:36.875Z\",",
                      " *     \"cancellationInitiator\":\"UNDEFINED\"",
                      " *   }",
                      " * ]",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "Order ID of the purchase of the plan, auto-generated when an order is created." },
            { "name": "paymentStatus",
              "type": "string",
              "doc": "Status of the payment for the plan. Can be `PAID`, `FAILED`, `UNPAID`, and `PAYMENT_STATUS_UNDEFINED`." },
            { "name": "validUntil",
              "type": "Date",
              "doc": "Date and time until which the plan is valid." },
            { "name": "price",
              "type": "wix-paid-plans.Price",
              "doc": "Object containing the price of the plan." },
            { "name": "cancellationInitiator",
              "type": "string",
              "doc": "If the plan is cancelled, the cause of the cancellation. One of:\n\n + `\"UNDEFINED\"`: Cancellation initiator unknown.\n + `\"OWNER\"`: Order (subscription) was canceled by site owner. \n + `\"MEMBER\"`: Order (subscription) was canceled by member.\n + `\"PAYMENT_FAILURE\"`: Subscription was canceled because of payment failure.\n + `\"SETUP_FAILURE\"`: Subscription was canceled because of payment setup failure." },
            { "name": "validFrom",
              "type": "Date",
              "doc": "Date and time from which the plan is valid." },
            { "name": "planName",
              "type": "string",
              "doc": "Name of the plan." },
            { "name": "wixPayOrderId",
              "type": "string",
              "doc": "ID of the plan for Wix Pay. If plan is free, this ID is blank." },
            { "name": "recurring",
              "type": "boolean",
              "doc": "If the plan is recurring. If true, the price is deducted weekly, monthly, or yearly." },
            { "name": "dateCreated",
              "type": "Date",
              "doc": "Date and time the order was created." },
            { "name": "status",
              "type": "string",
              "doc": "Status of the order. Can be `ACTIVE`, `PENDING`, `CANCELED`, `EXPIRED`, `PENDING_CANCELLATION`, and `ORDER_STATUS_UNDEFINED`." },
            { "name": "roleID",
              "type": "string",
              "doc": "Role assigned after purchasing the plan." },
            { "name": "planDescription",
              "type": "string",
              "doc": "Description of the plan." },
            { "name": "memberId",
              "type": "string",
              "doc": "ID for the visitor who purchased the plan." },
            { "name": "orderType",
              "type": "string",
              "doc": "How the plan was purchased, either `ONLINE` or `OFFLINE`." },
            { "name": "planId",
              "type": "string",
              "doc": "ID of the plan." },
            { "name": "validFor",
              "type": "wix-paid-plans.ValidFor",
              "doc": "Object containing properties about how long the plan is valid." },
            { "name": "freeTrialDays",
              "type": "number",
              "doc": "How many trial days were given to the subscriber of the plan." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "OrderResult",
        "locations":
          [ { "lineno": 165,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "An object representing an order result.",
            "links":
              [ "[orderPlan( )](wix-paid-plans.html#orderPlan)" ],
            "examples":
              [ { "title": "Order a pricing plan",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans checkout.createOnlineOrder() ",
                      "//             function, which replaces paid plans orderPlan().  ",
                      "//             See the function description for more information, and ",
                      "//             line 62 for the deprecated example.",
                      "",
                      "import wixPricingPlans from 'wix-pricing-plans';",
                      "",
                      "let planId = // Get the plan ID",
                      "",
                      "$w(\"#myOrderButton\").onClick( (event) => {",
                      "  wixPricingPlans.checkout.createOnlineOrder(planId)",
                      "    .then( (myOrder) => {",
                      "        const myOrderId = myOrder._id;",
                      "        const myWixPayOrderId = myOrder.wixPayOrderId;",
                      "    })",
                      "    .catch((err) => {",
                      "      console.log(\"Uh oh. No Order created.\");",
                      "      console.log(err);",
                      "    });",
                      "  })",
                      "",
                      "/* myOrder:",
                      " *  * {",
                      " *   \"id\": \"3aa1bec9-4dfa-4e08-891f-edcb53bc3790\",",
                      " *   \"planId\": \"38b3021a-8b43-4a31-98cc-4a05b522b7d3\",",
                      " *   \"subscriptionId\": \"1853e1b3-ec41-4385-8e1e-69242ff3a5dd\",",
                      " *   \"wixPayOrderId\": \"e33d7c8e-fb40-4a0d-a3f5-45c86e514593\",",
                      " *   \"buyer\": {",
                      " *     \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *     \"identityType\": \"MEMBER\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"10\",",
                      " *     \"total\": \"10\",",
                      " *     \"planPrice\": \"10\",",
                      " *     \"currency\": \"USD\",",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *         \"count\": 1,",
                      " *         \"unit\": \"MONTH\"",
                      " *       },",
                      " *       \"cycleCount\": 12",
                      " *     }",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"status\": \"DRAFT\",",
                      " *   \"autoRenewCanceled\": false,",
                      " *   \"lastPaymentStatus\": \"UNPAID\",",
                      " *   \"startDate\": \"2021-10-17T08:08:37.514Z\",",
                      " *   \"endDate\": \"2022-10-17T08:08:37.514Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"planName\": \"Diabetic Cooking\",",
                      " *   \"planDescription\": \"Special recipes for those with diabetes.\",",
                      " *   \"createdDate\": \"2021-10-17T08:08:37.514Z\",",
                      " *   \"updatedDate\": \"2021-10-17T08:08:37.514Z\"",
                      " * }",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       paid plans orderPlan() function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "",
                      "let planId = // Get the plan ID",
                      "",
                      "export function myOrderButton_click(event) {",
                      "  wixPaidPlans.orderPlan(planId)",
                      "    .then( (myOrder) => {",
                      "        let myOrderId = myOrder.orderId;",
                      "        let myWixPayOrderId = myOrder.wixPayOrderId;",
                      "    } );",
                      "  }",
                      "",
                      "/* myOrder:",
                      " * {",
                      " *  \"orderId\": \\\"b3fb3a4d-c223-4040-8bc3-8dfdefb1bafc\\\",",
                      " *  \"wixPayOrderId\": \\\"06af8fd6-6c82-4b51-bc08-0b556aad6f4f\\\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order." },
            { "name": "wixPayOrderId",
              "type": "string",
              "doc": "Wix Pay ID of the order being purchased." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Period",
        "locations":
          [ { "lineno": 246,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "An object representing the period for which a plan is valid.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a pricing plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "",
                      "// For inserting data about a plan transaction:",
                      "import wixData from 'wix-data';",
                      "",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the type of transaction, and",
                      "  // the event's order object (json) into ",
                      "  // the collection's data field.",
                      "\tif (event.order.price.amount === 0) {",
                      "     let orderData = {",
                      "       \"title\": \"Free plan purchased\",",
                      "       \"data\": event.order",
                      "     };",
                      "     wixData.insert(\"planEvents\", orderData);",
                      "  } else {",
                      "     let orderData = {",
                      "       \"title\": \"Regular plan purchased\",",
                      "       \"data\": event.order",
                      "     };",
                      "     wixData.insert(\"planEvents\", orderData); ",
                      "  }",
                      "}",
                      "",
                      "",
                      "/*  Event object for a free, one-month purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `wixPayOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Platinum Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*  }",
                      "*",
                      "*",
                      "*  Event object for a purchase that is valid until the user cancels:",
                      "*",
                      "*   When the purchase is valid until the user cancels, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Gold Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "* }",
                      "*",
                      "*/" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field.\n\n When a plan is purchased and the onPlanPurchased event is triggered,\n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "amount",
              "type": "number",
              "doc": "The number of units until the plan expires." },
            { "name": "unit",
              "type": "string",
              "doc": "Time period for billing the plan, such as `MONTH`." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Price",
        "locations":
          [ { "lineno": 209,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "An object representing the price of a purchased plan.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a pricing plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "",
                      "// For inserting data about a plan transaction:",
                      "import wixData from 'wix-data';",
                      "",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the type of transaction, and",
                      "  // the event's order object (json) into ",
                      "  // the collection's data field.",
                      "\tif (event.order.price.amount === 0) {",
                      "     let orderData = {",
                      "       \"title\": \"Free plan purchased\",",
                      "       \"data\": event.order",
                      "     };",
                      "     wixData.insert(\"planEvents\", orderData);",
                      "  } else {",
                      "     let orderData = {",
                      "       \"title\": \"Regular plan purchased\",",
                      "       \"data\": event.order",
                      "     };",
                      "     wixData.insert(\"planEvents\", orderData); ",
                      "  }",
                      "}",
                      "",
                      "",
                      "/*  Event object for a free, one-month purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `wixPayOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Platinum Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*  }",
                      "*",
                      "*",
                      "*  Event object for a purchase that is valid until the user cancels:",
                      "*",
                      "*   When the purchase is valid until the user cancels, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Gold Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "* }",
                      "*",
                      "*/" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field.\n\n When a plan is purchased and the onPlanPurchased event is triggered,\n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "currency",
              "type": "string",
              "doc": "Payment currency. A three-letter\n [ISO-4217](https://en.wikipedia.org/wiki/ISO_4217) currency code." },
            { "name": "amount",
              "type": "number",
              "doc": "The cost of the plan." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "PurchaseResult",
        "locations":
          [ { "lineno": 135,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "An object representing a purchase result for a non-free plan.",
            "links":
              [ "[purchasePlan( )](wix-paid-plans.html#purchasePlan)" ],
            "examples":
              [ { "title": "Purchase a non-free plan",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans checkout.startOnlinePurchase() ",
                      "//             function, which replaces the paid plans purchasePlan() function.  ",
                      "//             See the function description for more information, and ",
                      "//             line 63 for the deprecated example.",
                      "",
                      "import wixPricingPlans from 'wix-pricing-plans';",
                      "",
                      "let planId = // Get the ID for a non-free plan",
                      "",
                      "$w(\"#buyPlanButton\").onClick((event) => {",
                      "  wixPricingPlans.checkout.startOnlinePurchase(planId)",
                      "      .then((purchase) => {",
                      "          const myOrderId = purchase.order._id;",
                      "          const myWixPayOrderId = purchase.order.wixPayOrderId;",
                      "          const myWixPayStatus = purchase.wixPayStatus;",
                      "      });",
                      "});",
                      "",
                      "/* myPurchase object after payment processed",
                      " * {",
                      " *  \"order\": {",
                      " *    \"_id\": \"cab339d2-b021-40ac-ab0f-2b44c3f6dc60\",",
                      " *    \"planId\": \"fc7bca6b-c220-4679-9913-b93f2527bf3a\",",
                      " *    \"subscriptionId\": \"eef0fd26-b6cf-4116-ae56-b59e98dd0cce\",",
                      " *    \"wixPayOrderId\": \"d4008c3e-a8ee-472e-8917-b67ad3276183\",",
                      " *    \"buyer\": {",
                      " *      \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *      \"identityType\": \"MEMBER\"",
                      " *    },",
                      " *    \"priceDetails\": {",
                      " *      \"subtotal\": \"0.1\",",
                      " *      \"total\": \"0.1\",",
                      " *      \"planPrice\": \"0.1\",",
                      " *      \"currency\": \"USD\",",
                      " *      \"subscription\": {",
                      " *        \"cycleDuration\": {",
                      " *          \"count\": 1,",
                      " *          \"unit\": \"MONTH\"",
                      " *        },",
                      " *        \"cycleCount\": 12",
                      " *      },",
                      " *      \"freeTrialDays\": 50",
                      " *    },",
                      " *    \"type\": \"ONLINE\",",
                      " *    \"status\": \"ACTIVE\",",
                      " *    \"autoRenewCanceled\": false,",
                      " *    \"lastPaymentStatus\": \"PAID\",",
                      " *    \"startDate\": \"2021-10-26T10:09:30.287Z\",",
                      " *    \"endDate\": \"2022-12-15T10:09:30.287Z\",",
                      " *    \"pausePeriods\": [],",
                      " *    \"planName\": \"Mexican Cooking\",",
                      " *    \"planDescription\": \"Mild and spicy recipes!\",",
                      " *    \"createdDate\": \"2021-10-26T10:09:30.287Z\",",
                      " *    \"updatedDate\": \"2021-10-26T10:09:30.287Z\"",
                      " *  },",
                      " *  \"wixPayStatus\": \"Successful\"",
                      " * }",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       paid plans purchasePlan() function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "import wixPay from 'wix-pay';",
                      "",
                      "let planId = // Get the plan ID for a non-free plan",
                      "",
                      "export function myPurchaseButton_click(event) {",
                      "  wixPaidPlans.purchasePlan(planId)",
                      "    .then( (myPurchase) => {",
                      "        let myOrderId = myPurchase.orderId;",
                      "        let myWixPayOrderId = myPurchase.wixPayOrderId;",
                      "        let myWixPayStatus = myPurchase.wixPayStatus;",
                      "    } );",
                      "  }",
                      "",
                      "/* myPurchase:",
                      " * {",
                      " *  \"orderId\": \\\"b3fb3a4d-c223-4040-8bc3-8dfdefb1bafc\\\",",
                      " *  \"wixPayOrderId\": \\\"06af8fd6-6c82-4b51-bc08-0b556aad6f4f\\\",",
                      " *  \"wixPayStatus\": \\\"Successful\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order being purchased." },
            { "name": "wixPayStatus",
              "type": "string",
              "doc": "Payment status in Wix Pay. One of:\n\n + \"`Successful`\": Payment was successfully received.\n + \"`Pending`\": Payment is pending payment provider approval.\n + \"`Failed`\": Payment has failed.\n + \"`Chargeback`\": Payment is a chargeback.\n + \"`Refunded`\": Payment was fully refunded.\n + \"`Offline`\": Payment will be executed offline.\n + \"`PartiallyRefunded`\": Payment was partially refunded.\n + \"`Cancelled`\": Payment was cancelled and was not processed.\n + \"`Undefined`\": Payment status is pending payment provider input." },
            { "name": "wixPayOrderId",
              "type": "string",
              "doc": "Wix Pay ID of the order being purchased. Returned for non-free plans." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "PurchaseResultFree",
        "locations":
          [ { "lineno": 156,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "An object representing a purchase result for a free plan.",
            "links":
              [ "[purchasePlan( )](wix-paid-plans.html#purchasePlan)" ],
            "examples":
              [ { "title": "Purchase a free plan",
                  "body":
                    [ "// NOTE: This example uses the new pricing plans checkout.startOnlinePurchase() ",
                      "//             function, which replaces the paid plans purchasePlan() function.  ",
                      "//             See the function description for more information, and ",
                      "//             line 52 for the deprecated example.",
                      "",
                      "import wixPricingPlans from 'wix-pricing-plans';",
                      "",
                      "let planId = // Get the ID for a free plan",
                      "let planStartDate = new Date(\"2022, 01, 14\");",
                      "",
                      "$w(\"#buyPlanButton\").onClick((event) => {",
                      "  wixPricingPlans.checkout.startOnlinePurchase(planId, planStartDate)",
                      "      .then((purchase) => {",
                      "          const myOrderId = purchase.order._id; ",
                      "      });",
                      "});",
                      "",
                      "/* myPurchase object returns immediately,",
                      " * and without wixPay properties,",
                      " * because no payment necessary.",
                      " * ",
                      " * {",
                      " *  \"_id\": \"545221b3-eb21-4a2a-a2e6-c4276afe3fbf\",",
                      " *  \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *  \"subscriptionId\": \"66c29482-ccf2-4069-b02a-fa3ca5f95502\",",
                      " *  \"buyer\": {",
                      " *    \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *    \"identityType\": \"MEMBER\"",
                      " *  },",
                      " *  \"priceDetails\": {",
                      " *    \"subtotal\": \"0\",",
                      " *    \"total\": \"0\",",
                      " *    \"planPrice\": \"0\",",
                      " *    \"currency\": \"USD\",",
                      " *    \"singlePaymentUnlimited\": true",
                      " *  },",
                      " *  \"type\": \"ONLINE\",",
                      " *  \"status\": \"ACTIVE\",",
                      " *  \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *  \"startDate\": \"2022-01-14T22:00:00.000Z\",",
                      " *  \"pausePeriods\": [],",
                      " *  \"planName\": \"Family Cooking\",",
                      " *  \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *  \"createdDate\": \"2021-10-26T10:29:12.199Z\",",
                      " *  \"updatedDate\": \"2021-10-26T10:29:12.199Z\"",
                      " * }",
                      " */",
                      "",
                      "// NOTE: This example uses the deprecated",
                      "//       paid plans purchasePlan() function.",
                      "",
                      "import wixPaidPlans from 'wix-paid-plans';",
                      "import wixPay from 'wix-pay';",
                      "",
                      "let planId = // Get the plan ID for a free plan",
                      "",
                      "export function myPurchaseButton_click(event) {",
                      "  wixPaidPlans.purchasePlan(planId)",
                      "    .then( (myPurchase) => {",
                      "        let myOrderId = myPurchase.orderId;",
                      "    } );",
                      "  }",
                      "",
                      "",
                      "/* myPurchase:",
                      " * {",
                      " *  \"_id\": \"545221b3-eb21-4a2a-a2e6-c4276afe3fbf\",",
                      " *  \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *  \"subscriptionId\": \"66c29482-ccf2-4069-b02a-fa3ca5f95502\",",
                      " *  \"buyer\": {",
                      " *    \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *    \"identityType\": \"MEMBER\"",
                      " *  },",
                      " *  \"priceDetails\": {",
                      " *    \"subtotal\": \"0\",",
                      " *    \"total\": \"0\",",
                      " *    \"planPrice\": \"0\",",
                      " *    \"currency\": \"USD\",",
                      " *    \"singlePaymentUnlimited\": true",
                      " *  },",
                      " *  \"type\": \"ONLINE\",",
                      " *  \"status\": \"ACTIVE\",",
                      " *  \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *  \"startDate\": \"2022-01-14T22:00:00.000Z\",",
                      " *  \"pausePeriods\": [],",
                      " *  \"planName\": \"Family Cooking\",",
                      " *  \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *  \"createdDate\": \"2021-10-26T10:29:12.199Z\",",
                      " *  \"updatedDate\": \"2021-10-26T10:29:12.199Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order being purchased." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "ValidFor",
        "locations":
          [ { "lineno": 228,
              "filename": "paid-plans.js" } ],
        "docs":
          { "summary": "An object representing how long a plan is valid.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a pricing plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "",
                      "// For inserting data about a plan transaction:",
                      "import wixData from 'wix-data';",
                      "",
                      "",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the type of transaction, and",
                      "  // the event's order object (json) into ",
                      "  // the collection's data field.",
                      "\tif (event.order.price.amount === 0) {",
                      "     let orderData = {",
                      "       \"title\": \"Free plan purchased\",",
                      "       \"data\": event.order",
                      "     };",
                      "     wixData.insert(\"planEvents\", orderData);",
                      "  } else {",
                      "     let orderData = {",
                      "       \"title\": \"Regular plan purchased\",",
                      "       \"data\": event.order",
                      "     };",
                      "     wixData.insert(\"planEvents\", orderData); ",
                      "  }",
                      "}",
                      "",
                      "",
                      "/*  Event object for a free, one-month purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `wixPayOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Platinum Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*  }",
                      "*",
                      "*",
                      "*  Event object for a purchase that is valid until the user cancels:",
                      "*",
                      "*   When the purchase is valid until the user cancels, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Gold Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "* }",
                      "*",
                      "*/" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field.\n\n When a plan is purchased and the onPlanPurchased event is triggered,\n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "forever",
              "type": "boolean",
              "doc": "If true, the plan does not expire." },
            { "name": "period",
              "type": "wix-paid-plans.Period",
              "doc": "Object containing the period for which the plan is valid." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }