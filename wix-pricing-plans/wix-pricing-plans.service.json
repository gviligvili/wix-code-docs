{ "name": "wix-pricing-plans",
  "mixes": [],
  "labels": [],
  "location":
    { "lineno": 1,
      "filename": "pricing-plans.js" },
  "docs":
    { "summary": "The wix-pricing-plans module contains functionality for working with\n pricing plans from client-side code.",
      "description":
        [ "Using the Pricing Plans API, you can build a customized membership plan experience.",
          "",
          "",
          "> **Note:**",
          "> The Pricing Plans APIs replace the deprecated",
          "> [Paid Plans](wix-paid-plans.html).",
          "> The deprecated APIs will continue to work, but they will not receive updates.",
          "> To keep any existing code compatible with future changes, see the",
          "> [migration instructions](https://www.wix.com/velo/reference/wix-paid-plans/introduction#migration-instructions).",
          "",
          "",
          " ### Migration Instructions",
          "",
          " If Paid Plans APIs are already in your code, they will continue to work. ",
          " To stay compatible with future changes, migrate to [Pricing Plans frontend APIs](wix-pricing-plans.html) and [Pricing Plans backend APIs](wix-pricing-plans-backend.html).",
          "",
          " ### Setup",
          "",
          " First, set up your site to:",
          "",
          " * Accept payments as described in [About Accepting Payments](https://support.wix.com/en/article/about-accepting-payments).",
          "",
          " * Offer membership plans as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans). ",
          "   When setting up your site to accept pricing plans, define the plans you want to offer either ",
          "   [with the Pricing Plans app](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans) or with the ",
          "   [Pricing Plans](wix-pricing-plans-backend.html) APIs.",
          "",
          "",
          " When plans are set up, you can use the API to:",
          " + Get information about pricing plans.",
          " + Let site members purchase a plan directly, as if they were using the Pricing Plans app.",
          " + Let site members purchase a plan using your own customized process.",
          " + Let site members cancel plan subscriptions (orders) that they have purchased.",
          "",
          "",
          "",
          "",
          "There are two flows for setting up pricing plans: Direct purchases and customized purchases.",
          "",
          "",
          "",
          " ### Direct Purchase of a Pricing Plan",
          "",
          " Direct purchasing is the same as when purchasing a plan with the Pricing Plans app. Everything is",
          " handled, from requesting the plan, through paying for the plan. If you need",
          " standard pricing plan processing, call the [`startOnlinePurchase()`](wix-pricing-plans/checkout/purchaseplan) function.",
          "",
          "",
          "",
          " The following outlines the steps in a direct-purchase lifecycle:",
          "",
          " 1. Get a list of membership plans from one of:",
          "    * A dataset connected to the Plans collection.",
          "    * A query on the Plans collection.",
          " 1. A *logged-in* site member selects a membership plan by clicking the plan or a button. (If the member is not logged-in, the",
          "    sign up page is displayed.)",
          " 1. The corresponding event handler calls a function to handle all stages of buying the plan (ordering, purchasing, and payment):",
          "    * If the plan is free, the plan is immediately ordered and is considered purchased (transaction status is \"Paid\").",
          "    * If the plan is not free, the plan is ordered but not yet purchased (transaction status is \"Pending\"). The site member fills in contact",
          "      details and selects a payment method (transaction status is now \"Paid\").",
          " 1. Handle additional updates when a plan is successfully purchased using the",
          "    [`onPlanPurchased()`](wix-pricing-plans-backend.Events.html#onPlanPurchased) event.*",
          "",
          "",
          "",
          "",
          " ### Customized Pricing Plan Purchases",
          "",
          " Let buyers (logged-in site members) order a plan for future purchase (such as after the member enters payment information).",
          " You customize the entire process of selecting, requesting, and",
          " paying for a plan. You can add elements, such as confirmation lightboxes and forms, to customize the buyer's experience.",
          "",
          "",
          " To let the buyer order a plan, call the [`createOnlineOrder()`](wix-pricing-plans/checkout/createOnlineOrder) function.",
          "",
          "",
          " The following outlines the steps for customizing the pricing plan purchase:",
          "",
          " 1. Get a list of membership plans from one of:",
          "    * A dataset connected to the Plans collection.",
          "    * A query on the Plans collection.",
          " 1. A *logged-in* site member selects a membership plan by clicking the plan or a button.  (If the member is not logged-in, the",
          "    signup page is displayed.)",
          " 1. The corresponding event handler calls the [`createOnlineOrder()`](wix-pricing-plans/checkout/createOnlineOrder) function to handle the initial order of the plan.",
          " 1. The site member uses a series of customized elements you created, such as lightboxes, and forms.",
          " 1. The site member uses the Wix Pay payment method to complete the purchase.",
          " 1. Handle additional updates when a plan is successfully purchased using the",
          "    [`onOrderPurchased()`](wix-pricing-plans-backend.Events.html#onOrderPurchased) event.",
          "",
          "",
          "",
          " For purchasing and ordering pricing plans, import `wixPricingPlans` from the `wix-pricing-plans` module.",
          " For managing pricing plans, import `wixPricingPlansBackend` from the `wix-pricing-plans-backend` module.",
          "",
          "",
          "   ```javascript",
          "   import wixPricingPlans from 'wix-pricing-plans';",
          "   import wixPricingPlansBackend from 'wix-pricing-plans-backend';",
          "   ```",
          "",
          "> **Note:**",
          "   To work with the Pricing Plans API, you need to publish your site." ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties":
    [ { "name": "checkout",
        "labels": [],
        "get": true,
        "set": false,
        "type": "wix-pricing-plans.Checkout",
        "locations":
          [ { "lineno": 191,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "The Pricing Plans Checkout API contains functionality for ordering, checking out, and purchasing\n your site's pricing plan [orders](https://support.wix.com/en/article/pricing-plans-an-overview).",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "orders",
        "labels": [],
        "get": true,
        "set": false,
        "type": "wix-pricing-plans.Orders",
        "locations":
          [ { "lineno": 285,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "The Pricing Plan Orders API provides functionality for managing pricing plan orders created in the Wix Pricing Plans app or using the Wix Pricing Plans API.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "operations": [],
  "callbacks": [],
  "messages":
    [ { "name": "Order",
        "locations":
          [ { "lineno": 336,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "An object representing a pricing plan order.",
            "links":
              [ "[listCurrentMemberOrders( )](#listCurrentMemberOrders)" ],
            "examples":
              [ { "title": "Get the current member's orders (subscriptions) on button click",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans'; ",
                      "",
                      "$w(\"#listMyOrdersButton\").onClick( (event) => {",
                      "  orders.listCurrentMemberOrders()",
                      "    .then( (myOrderList) => {",
                      "      console.log(myOrderList);",
                      "      $w(\"#showResultsTextbox\").text = JSON.stringify(myOrderList);",
                      "      const firstOrder = myOrderList[0];",
                      "    })",
                      "    .catch((err) => {",
                      "        console.log(err);",
                      "    });",
                      "  });",
                      "",
                      "",
                      "/* In this case, a `myOrderList` array of two order items:",
                      " * [",
                      " *   {",
                      " *     \"id\": \"f0d30ec6-8804-4f0a-b444-de3e855fa6fb\",",
                      " *     \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *     \"subscriptionId\": \"6df16bbb-c90e-4a2b-b33f-969aa0d75ea6\",",
                      " *     \"buyer\": {",
                      " *       \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"identityType\": \"MEMBER\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"0\",",
                      " *       \"total\": \"0\",",
                      " *       \"planPrice\": \"0\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"singlePaymentUnlimited\": true",
                      " *     },",
                      " *     \"type\": \"ONLINE\",",
                      " *     \"status\": \"ACTIVE\",",
                      " *     \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *     \"startDate\": \"2021-10-17T11:18:58.256Z\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Family Cooking\",",
                      " *     \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *     \"createdDate\": \"2021-10-17T11:18:58.256Z\",",
                      " *     \"updatedDate\": \"2021-10-17T11:18:58.454Z\"",
                      " *   },",
                      " *   {",
                      " *     \"id\": \"023d3a89-5bcd-40f9-ba30-79162ac2eae3\",",
                      " *     \"planId\": \"38b3021a-8b43-4a31-98cc-4a05b522b7d3\",",
                      " *     \"subscriptionId\": \"7d3a43c3-c1df-477c-9353-4a827c393020\",",
                      " *     \"wixPayOrderId\": \"b025fb5a-dc18-420c-b6b6-77c65255acea\",",
                      " *     \"buyer\": {",
                      " *       \"id\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"identityType\": \"MEMBER\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"10\",",
                      " *       \"total\": \"10\",",
                      " *       \"planPrice\": \"10\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"subscription\": {",
                      " *         \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"MONTH\"",
                      " *         },",
                      " *         \"cycleCount\": 12",
                      " *       },",
                      " *       \"freeTrialDays\": 30",
                      " *     },",
                      " *     \"type\": \"OFFLINE\",",
                      " *     \"status\": \"ACTIVE\",",
                      " *     \"autoRenewCanceled\": false,",
                      " *     \"lastPaymentStatus\": \"UNPAID\",",
                      " *     \"startDate\": \"2021-08-26T15:23:03.374Z\",",
                      " *     \"endDate\": \"2022-09-25T15:23:03.374Z\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Diabetic Cooking\",",
                      " *     \"planDescription\": \"Special recipes for those with diabetes.\",",
                      " *     \"createdDate\": \"2021-08-26T15:23:03.374Z\",",
                      " *     \"updatedDate\": \"2021-08-26T15:23:03.948Z\"",
                      " *    }",
                      " *  ]",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "Order ID of the purchase of the plan, auto-generated when an order is created." },
            { "name": "paymentStatus",
              "type": "string",
              "doc": "Status of the payment for the plan. Can be `PAID`, `FAILED`, `UNPAID`, and `PAYMENT_STATUS_UNDEFINED`." },
            { "name": "validUntil",
              "type": "Date",
              "doc": "Date and time until which the plan is valid." },
            { "name": "price",
              "type": "wix-pricing-plans.Checkout.Price",
              "doc": "Object containing the price of the plan." },
            { "name": "cancellationInitiator",
              "type": "string",
              "doc": "If the plan is cancelled, the cause of the cancellation. One of:\n\n + `\"UNDEFINED\"`: Cancellation initiator unknown.\n + `\"OWNER\"`: Order (subscription) was canceled by site owner. \n + `\"MEMBER\"`: Order (subscription) was canceled by member.\n + `\"PAYMENT_FAILURE\"`: Subscription was canceled because of payment failure.\n + `\"SETUP_FAILURE\"`: Subscription was canceled because of payment setup failure." },
            { "name": "validFrom",
              "type": "Date",
              "doc": "Date and time from which the plan is valid." },
            { "name": "planName",
              "type": "string",
              "doc": "Name of the plan." },
            { "name": "wixPayOrderId",
              "type": "string",
              "doc": "ID of the plan for Wix Pay. Omitted for free plans.",
              "optional": true },
            { "name": "recurring",
              "type": "boolean",
              "doc": "If the plan is recurring. If true, the price is deducted weekly, monthly, or yearly." },
            { "name": "dateCreated",
              "type": "Date",
              "doc": "Date and time the order was created." },
            { "name": "status",
              "type": "string",
              "doc": "Status of the order. Can be `ACTIVE`, `PENDING`, `CANCELED`, `EXPIRED`, `PENDING_CANCELLATION`, and `ORDER_STATUS_UNDEFINED`." },
            { "name": "roleID",
              "type": "string",
              "doc": "Role assigned after purchasing the plan." },
            { "name": "planDescription",
              "type": "string",
              "doc": "Description of the plan." },
            { "name": "memberId",
              "type": "string",
              "doc": "ID for the member who purchased the plan." },
            { "name": "orderType",
              "type": "string",
              "doc": "How the plan was purchased, either `ONLINE` or `OFFLINE`." },
            { "name": "planId",
              "type": "string",
              "doc": "ID of the plan." },
            { "name": "validFor",
              "type": "wix-pricing-plans.Checkout.ValidFor",
              "doc": "Object containing properties about how long the plan is valid." },
            { "name": "freeTrialDays",
              "type": "number",
              "doc": "How many trial days were given to the subscriber of the plan." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }